/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/documents/route";
exports.ids = ["app/api/documents/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fdocuments%2Froute&page=%2Fapi%2Fdocuments%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdocuments%2Froute.ts&appDir=%2FUsers%2Fjunha%2Fcoding%2Fcareervault-ai%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjunha%2Fcoding%2Fcareervault-ai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fdocuments%2Froute&page=%2Fapi%2Fdocuments%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdocuments%2Froute.ts&appDir=%2FUsers%2Fjunha%2Fcoding%2Fcareervault-ai%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjunha%2Fcoding%2Fcareervault-ai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_junha_coding_careervault_ai_app_api_documents_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/documents/route.ts */ \"(rsc)/./app/api/documents/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/documents/route\",\n        pathname: \"/api/documents\",\n        filename: \"route\",\n        bundlePath: \"app/api/documents/route\"\n    },\n    resolvedPagePath: \"/Users/junha/coding/careervault-ai/app/api/documents/route.ts\",\n    nextConfigOutput,\n    userland: _Users_junha_coding_careervault_ai_app_api_documents_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZkb2N1bWVudHMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmRvY3VtZW50cyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmRvY3VtZW50cyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmp1bmhhJTJGY29kaW5nJTJGY2FyZWVydmF1bHQtYWklMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGanVuaGElMkZjb2RpbmclMkZjYXJlZXJ2YXVsdC1haSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDYTtBQUMxRjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL2p1bmhhL2NvZGluZy9jYXJlZXJ2YXVsdC1haS9hcHAvYXBpL2RvY3VtZW50cy9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvZG9jdW1lbnRzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZG9jdW1lbnRzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9kb2N1bWVudHMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvanVuaGEvY29kaW5nL2NhcmVlcnZhdWx0LWFpL2FwcC9hcGkvZG9jdW1lbnRzL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fdocuments%2Froute&page=%2Fapi%2Fdocuments%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdocuments%2Froute.ts&appDir=%2FUsers%2Fjunha%2Fcoding%2Fcareervault-ai%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjunha%2Fcoding%2Fcareervault-ai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./app/api/documents/route.ts":
/*!************************************!*\
  !*** ./app/api/documents/route.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PATCH: () => (/* binding */ PATCH),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/ssr */ \"(rsc)/./node_modules/@supabase/ssr/dist/module/index.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n\n\n\nasync function createClient() {\n    const cookieStore = await (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n    return (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createServerClient)(\"https://uoogquwrzytpnyhjkqpk.supabase.co\", \"sb_publishable_t4ETXw2dUK4_0L4m1KepXg_HwmDH7Vx\", {\n        cookies: {\n            get (name) {\n                return cookieStore.get(name)?.value;\n            },\n            set (name, value, options) {\n                try {\n                    cookieStore.set({\n                        name,\n                        value,\n                        ...options\n                    });\n                } catch (error) {\n                // The `set` method was called from a Server Component.\n                // This can be ignored if you have middleware refreshing\n                // user sessions.\n                }\n            },\n            remove (name, options) {\n                try {\n                    cookieStore.set({\n                        name,\n                        value: '',\n                        ...options\n                    });\n                } catch (error) {\n                // The `delete` method was called from a Server Component.\n                // This can be ignored if you have middleware refreshing\n                // user sessions.\n                }\n            }\n        }\n    });\n}\nasync function GET() {\n    try {\n        const supabase = await createClient();\n        const { data: { user } } = await supabase.auth.getUser();\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n                error: 'Unauthorized'\n            }, {\n                status: 401\n            });\n        }\n        const { data, error } = await supabase.from('documents').select('*').eq('user_id', user.id) // Filter by user_id\n        .order('position', {\n            ascending: true\n        }).order('created_at', {\n            ascending: false\n        });\n        if (error) throw error;\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json(data || []);\n    } catch (error) {\n        console.error('Error fetching documents:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n            error: 'Failed to fetch documents'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const supabase = await createClient();\n        const { data: { user } } = await supabase.auth.getUser();\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n                error: 'Unauthorized'\n            }, {\n                status: 401\n            });\n        }\n        const body = await request.json();\n        const { title, company, role, content, jobPostUrl, status, tags, deadline, date, logo, position, isArchived, documentScreeningStatus } = body;\n        // Auto-generate logo if not provided\n        const finalLogo = logo || (company ? company.charAt(0).toUpperCase() : 'C');\n        const { data, error } = await supabase.from('documents').insert([\n            {\n                user_id: user.id,\n                title,\n                company,\n                role,\n                content,\n                job_post_url: jobPostUrl,\n                status: status || 'writing',\n                tags: tags || [],\n                deadline,\n                date,\n                logo: finalLogo,\n                position: position || 0,\n                is_archived: Boolean(isArchived),\n                document_screening_status: documentScreeningStatus ?? null\n            }\n        ]).select().single();\n        if (error) throw error;\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json(data);\n    } catch (error) {\n        console.error('Error creating document:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n            error: 'Failed to create document'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function DELETE(request) {\n    try {\n        const supabase = await createClient();\n        const { data: { user } } = await supabase.auth.getUser();\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n                error: 'Unauthorized'\n            }, {\n                status: 401\n            });\n        }\n        const { searchParams } = new URL(request.url);\n        const id = searchParams.get('id');\n        if (!id) {\n            return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n                error: 'ID is required'\n            }, {\n                status: 400\n            });\n        }\n        const { error } = await supabase.from('documents').delete().eq('id', id).eq('user_id', user.id); // Ensure user owns the document\n        if (error) throw error;\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n            success: true\n        });\n    } catch (error) {\n        console.error('Error deleting document:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n            error: 'Failed to delete document'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function PATCH(request) {\n    try {\n        const supabase = await createClient();\n        const { data: { user } } = await supabase.auth.getUser();\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n                error: 'Unauthorized'\n            }, {\n                status: 401\n            });\n        }\n        const { searchParams } = new URL(request.url);\n        const id = searchParams.get('id');\n        if (!id) {\n            return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n                error: 'ID is required'\n            }, {\n                status: 400\n            });\n        }\n        const body = await request.json();\n        const { title, company, role, content, jobPostUrl, status, tags, deadline, date, logo, position, isArchived, documentScreeningStatus } = body;\n        const updates = {};\n        if (title !== undefined) updates.title = title;\n        if (company !== undefined) updates.company = company;\n        if (role !== undefined) updates.role = role;\n        if (content !== undefined) updates.content = content;\n        if (jobPostUrl !== undefined) updates.job_post_url = jobPostUrl;\n        if (status !== undefined) updates.status = status;\n        if (tags !== undefined) updates.tags = tags;\n        if (deadline !== undefined) updates.deadline = deadline;\n        if (date !== undefined) updates.date = date;\n        if (logo !== undefined) updates.logo = logo;\n        if (position !== undefined) updates.position = position;\n        if (isArchived !== undefined) updates.is_archived = isArchived;\n        if (documentScreeningStatus !== undefined) updates.document_screening_status = documentScreeningStatus;\n        updates.updated_at = new Date().toISOString();\n        const { data, error } = await supabase.from('documents').update(updates).eq('id', id).eq('user_id', user.id) // Ensure user owns the document\n        .select().single();\n        if (error) throw error;\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json(data);\n    } catch (error) {\n        console.error('Error updating document:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n            error: 'Failed to update document',\n            details: error instanceof Error ? error.message : String(error)\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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V1AsS0FBS1EsRUFBRSxFQUFFLGdDQUFnQztTQUN2REYsTUFBTSxHQUNOOEIsTUFBTTtRQUVYLElBQUl6QyxPQUFPLE1BQU1BO1FBRWpCLE9BQU9aLHFEQUFZQSxDQUFDb0IsSUFBSSxDQUFDSjtJQUM3QixFQUFFLE9BQU9KLE9BQU87UUFDWmdCLFFBQVFoQixLQUFLLENBQUMsNEJBQTRCQTtRQUMxQyxPQUFPWixxREFBWUEsQ0FBQ29CLElBQUksQ0FBQztZQUNyQlIsT0FBTztZQUNQdUQsU0FBU3ZELGlCQUFpQndELFFBQVF4RCxNQUFNeUQsT0FBTyxHQUFHQyxPQUFPMUQ7UUFDN0QsR0FBRztZQUFFUyxRQUFRO1FBQUk7SUFDckI7QUFDSiIsInNvdXJjZXMiOlsiL1VzZXJzL2p1bmhhL2NvZGluZy9jYXJlZXJ2YXVsdC1haS9hcHAvYXBpL2RvY3VtZW50cy9yb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVTZXJ2ZXJDbGllbnQsIHR5cGUgQ29va2llT3B0aW9ucyB9IGZyb20gJ0BzdXBhYmFzZS9zc3InO1xuaW1wb3J0IHsgY29va2llcyB9IGZyb20gJ25leHQvaGVhZGVycyc7XG5pbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVDbGllbnQoKSB7XG4gICAgY29uc3QgY29va2llU3RvcmUgPSBhd2FpdCBjb29raWVzKCk7XG4gICAgcmV0dXJuIGNyZWF0ZVNlcnZlckNsaWVudChcbiAgICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcbiAgICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkhLFxuICAgICAgICB7XG4gICAgICAgICAgICBjb29raWVzOiB7XG4gICAgICAgICAgICAgICAgZ2V0KG5hbWU6IHN0cmluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29va2llU3RvcmUuZ2V0KG5hbWUpPy52YWx1ZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldChuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIG9wdGlvbnM6IENvb2tpZU9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb2tpZVN0b3JlLnNldCh7IG5hbWUsIHZhbHVlLCAuLi5vcHRpb25zIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGBzZXRgIG1ldGhvZCB3YXMgY2FsbGVkIGZyb20gYSBTZXJ2ZXIgQ29tcG9uZW50LlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBjYW4gYmUgaWdub3JlZCBpZiB5b3UgaGF2ZSBtaWRkbGV3YXJlIHJlZnJlc2hpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVzZXIgc2Vzc2lvbnMuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlbW92ZShuYW1lOiBzdHJpbmcsIG9wdGlvbnM6IENvb2tpZU9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb2tpZVN0b3JlLnNldCh7IG5hbWUsIHZhbHVlOiAnJywgLi4ub3B0aW9ucyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBgZGVsZXRlYCBtZXRob2Qgd2FzIGNhbGxlZCBmcm9tIGEgU2VydmVyIENvbXBvbmVudC5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgY2FuIGJlIGlnbm9yZWQgaWYgeW91IGhhdmUgbWlkZGxld2FyZSByZWZyZXNoaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1c2VyIHNlc3Npb25zLlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICApO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG4gICAgICAgIGNvbnN0IHsgZGF0YTogeyB1c2VyIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG4gICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgLmZyb20oJ2RvY3VtZW50cycpXG4gICAgICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXIuaWQpIC8vIEZpbHRlciBieSB1c2VyX2lkXG4gICAgICAgICAgICAub3JkZXIoJ3Bvc2l0aW9uJywgeyBhc2NlbmRpbmc6IHRydWUgfSlcbiAgICAgICAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcblxuICAgICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihkYXRhIHx8IFtdKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBkb2N1bWVudHM6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCBkb2N1bWVudHMnIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG4gICAgICAgIGNvbnN0IHsgZGF0YTogeyB1c2VyIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG4gICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHRpdGxlLFxuICAgICAgICAgICAgY29tcGFueSxcbiAgICAgICAgICAgIHJvbGUsXG4gICAgICAgICAgICBjb250ZW50LFxuICAgICAgICAgICAgam9iUG9zdFVybCxcbiAgICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICAgIHRhZ3MsXG4gICAgICAgICAgICBkZWFkbGluZSxcbiAgICAgICAgICAgIGRhdGUsXG4gICAgICAgICAgICBsb2dvLFxuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICBpc0FyY2hpdmVkLFxuICAgICAgICAgICAgZG9jdW1lbnRTY3JlZW5pbmdTdGF0dXNcbiAgICAgICAgfSA9IGJvZHk7XG5cbiAgICAgICAgLy8gQXV0by1nZW5lcmF0ZSBsb2dvIGlmIG5vdCBwcm92aWRlZFxuICAgICAgICBjb25zdCBmaW5hbExvZ28gPSBsb2dvIHx8IChjb21wYW55ID8gY29tcGFueS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSA6ICdDJyk7XG5cbiAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgIC5mcm9tKCdkb2N1bWVudHMnKVxuICAgICAgICAgICAgLmluc2VydChbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB1c2VyX2lkOiB1c2VyLmlkLCAvLyBBZGQgdXNlcl9pZFxuICAgICAgICAgICAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgY29tcGFueSxcbiAgICAgICAgICAgICAgICAgICAgcm9sZSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgam9iX3Bvc3RfdXJsOiBqb2JQb3N0VXJsLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHN0YXR1cyB8fCAnd3JpdGluZycsXG4gICAgICAgICAgICAgICAgICAgIHRhZ3M6IHRhZ3MgfHwgW10sXG4gICAgICAgICAgICAgICAgICAgIGRlYWRsaW5lLFxuICAgICAgICAgICAgICAgICAgICBkYXRlLFxuICAgICAgICAgICAgICAgICAgICBsb2dvOiBmaW5hbExvZ28sXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbiB8fCAwLFxuICAgICAgICAgICAgICAgICAgICBpc19hcmNoaXZlZDogQm9vbGVhbihpc0FyY2hpdmVkKSxcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRfc2NyZWVuaW5nX3N0YXR1czogZG9jdW1lbnRTY3JlZW5pbmdTdGF0dXMgPz8gbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdKVxuICAgICAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcblxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgZG9jdW1lbnQ6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byBjcmVhdGUgZG9jdW1lbnQnIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gREVMRVRFKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcbiAgICAgICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cbiAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSwgeyBzdGF0dXM6IDQwMSB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICAgICAgY29uc3QgaWQgPSBzZWFyY2hQYXJhbXMuZ2V0KCdpZCcpO1xuXG4gICAgICAgIGlmICghaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSUQgaXMgcmVxdWlyZWQnIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgLmZyb20oJ2RvY3VtZW50cycpXG4gICAgICAgICAgICAuZGVsZXRlKClcbiAgICAgICAgICAgIC5lcSgnaWQnLCBpZClcbiAgICAgICAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXIuaWQpOyAvLyBFbnN1cmUgdXNlciBvd25zIHRoZSBkb2N1bWVudFxuXG4gICAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG5cbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogdHJ1ZSB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBkb2N1bWVudDonLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIGRlbGV0ZSBkb2N1bWVudCcgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQQVRDSChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG4gICAgICAgIGNvbnN0IHsgZGF0YTogeyB1c2VyIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG4gICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgICAgIGNvbnN0IGlkID0gc2VhcmNoUGFyYW1zLmdldCgnaWQnKTtcblxuICAgICAgICBpZiAoIWlkKSB7XG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0lEIGlzIHJlcXVpcmVkJyB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgICAgICBjb25zdCB7IHRpdGxlLCBjb21wYW55LCByb2xlLCBjb250ZW50LCBqb2JQb3N0VXJsLCBzdGF0dXMsIHRhZ3MsIGRlYWRsaW5lLCBkYXRlLCBsb2dvLCBwb3NpdGlvbiwgaXNBcmNoaXZlZCwgZG9jdW1lbnRTY3JlZW5pbmdTdGF0dXMgfSA9IGJvZHk7XG5cbiAgICAgICAgY29uc3QgdXBkYXRlczogYW55ID0ge307XG4gICAgICAgIGlmICh0aXRsZSAhPT0gdW5kZWZpbmVkKSB1cGRhdGVzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIGlmIChjb21wYW55ICE9PSB1bmRlZmluZWQpIHVwZGF0ZXMuY29tcGFueSA9IGNvbXBhbnk7XG4gICAgICAgIGlmIChyb2xlICE9PSB1bmRlZmluZWQpIHVwZGF0ZXMucm9sZSA9IHJvbGU7XG4gICAgICAgIGlmIChjb250ZW50ICE9PSB1bmRlZmluZWQpIHVwZGF0ZXMuY29udGVudCA9IGNvbnRlbnQ7XG4gICAgICAgIGlmIChqb2JQb3N0VXJsICE9PSB1bmRlZmluZWQpIHVwZGF0ZXMuam9iX3Bvc3RfdXJsID0gam9iUG9zdFVybDtcbiAgICAgICAgaWYgKHN0YXR1cyAhPT0gdW5kZWZpbmVkKSB1cGRhdGVzLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgaWYgKHRhZ3MgIT09IHVuZGVmaW5lZCkgdXBkYXRlcy50YWdzID0gdGFncztcbiAgICAgICAgaWYgKGRlYWRsaW5lICE9PSB1bmRlZmluZWQpIHVwZGF0ZXMuZGVhZGxpbmUgPSBkZWFkbGluZTtcbiAgICAgICAgaWYgKGRhdGUgIT09IHVuZGVmaW5lZCkgdXBkYXRlcy5kYXRlID0gZGF0ZTtcbiAgICAgICAgaWYgKGxvZ28gIT09IHVuZGVmaW5lZCkgdXBkYXRlcy5sb2dvID0gbG9nbztcbiAgICAgICAgaWYgKHBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHVwZGF0ZXMucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgaWYgKGlzQXJjaGl2ZWQgIT09IHVuZGVmaW5lZCkgdXBkYXRlcy5pc19hcmNoaXZlZCA9IGlzQXJjaGl2ZWQ7XG4gICAgICAgIGlmIChkb2N1bWVudFNjcmVlbmluZ1N0YXR1cyAhPT0gdW5kZWZpbmVkKSB1cGRhdGVzLmRvY3VtZW50X3NjcmVlbmluZ19zdGF0dXMgPSBkb2N1bWVudFNjcmVlbmluZ1N0YXR1cztcbiAgICAgICAgdXBkYXRlcy51cGRhdGVkX2F0ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG4gICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAuZnJvbSgnZG9jdW1lbnRzJylcbiAgICAgICAgICAgIC51cGRhdGUodXBkYXRlcylcbiAgICAgICAgICAgIC5lcSgnaWQnLCBpZClcbiAgICAgICAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXIuaWQpIC8vIEVuc3VyZSB1c2VyIG93bnMgdGhlIGRvY3VtZW50XG4gICAgICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihkYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBkb2N1bWVudDonLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgICAgICBlcnJvcjogJ0ZhaWxlZCB0byB1cGRhdGUgZG9jdW1lbnQnLFxuICAgICAgICAgICAgZGV0YWlsczogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpXG4gICAgICAgIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbImNyZWF0ZVNlcnZlckNsaWVudCIsImNvb2tpZXMiLCJOZXh0UmVzcG9uc2UiLCJjcmVhdGVDbGllbnQiLCJjb29raWVTdG9yZSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImdldCIsIm5hbWUiLCJ2YWx1ZSIsInNldCIsIm9wdGlvbnMiLCJlcnJvciIsInJlbW92ZSIsIkdFVCIsInN1cGFiYXNlIiwiZGF0YSIsInVzZXIiLCJhdXRoIiwiZ2V0VXNlciIsImpzb24iLCJzdGF0dXMiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJpZCIsIm9yZGVyIiwiYXNjZW5kaW5nIiwiY29uc29sZSIsIlBPU1QiLCJyZXF1ZXN0IiwiYm9keSIsInRpdGxlIiwiY29tcGFueSIsInJvbGUiLCJjb250ZW50Iiwiam9iUG9zdFVybCIsInRhZ3MiLCJkZWFkbGluZSIsImRhdGUiLCJsb2dvIiwicG9zaXRpb24iLCJpc0FyY2hpdmVkIiwiZG9jdW1lbnRTY3JlZW5pbmdTdGF0dXMiLCJmaW5hbExvZ28iLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsImluc2VydCIsInVzZXJfaWQiLCJqb2JfcG9zdF91cmwiLCJpc19hcmNoaXZlZCIsIkJvb2xlYW4iLCJkb2N1bWVudF9zY3JlZW5pbmdfc3RhdHVzIiwic2luZ2xlIiwiREVMRVRFIiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwiZGVsZXRlIiwic3VjY2VzcyIsIlBBVENIIiwidXBkYXRlcyIsInVuZGVmaW5lZCIsInVwZGF0ZWRfYXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJ1cGRhdGUiLCJkZXRhaWxzIiwiRXJyb3IiLCJtZXNzYWdlIiwiU3RyaW5nIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/documents/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/@supabase","vendor-chunks/next","vendor-chunks/tslib","vendor-chunks/cookie"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fdocuments%2Froute&page=%2Fapi%2Fdocuments%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdocuments%2Froute.ts&appDir=%2FUsers%2Fjunha%2Fcoding%2Fcareervault-ai%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjunha%2Fcoding%2Fcareervault-ai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();